(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{191:function(e,t,a){},192:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(39),c=a.n(r),i=(a(191),a(192),a(16)),o=a(369),s=a(384),l=a(378),u=a(385),d=a(376),p=a(370),j=a(22),b=a(15),m=a.n(b),h=a(20),f=a(91),x=a.n(f),O=x.a.create({baseURL:"https://shopkart-server.herokuapp.com/items"}),g=function(e,t){return O.patch("/".concat(e,"/update"),t)},v=function(e){return O.delete("/".concat(e,"/delete"))},y=function(){return function(){var e=Object(h.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/");case 3:a=e.sent,n=a.data,t({type:"FETCH_POSTS",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(h.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c=e,O.post("/",c);case 3:return n=t.sent,r=n.data,a({type:"CREATE_POST",payload:r}),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 13:case"end":return t.stop()}var c}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e,t){return function(){var a=Object(h.a)(m.a.mark((function a(n){var r,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g(e,t);case 3:return r=a.sent,c=r.data,n({type:"UPDATE_POST",payload:c}),a.abrupt("return",!0);case 9:return a.prev=9,a.t0=a.catch(0),console.log(a.t0),a.abrupt("return",!1);case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},k=a(377),S=a(379),T=a(380),P=a(165),N=a.n(P),F=a(47),W=a(166),B=a.n(W),E=a(1),I=Object(p.a)({media:{height:0,paddingTop:"66.25%",backgroundColor:"white"},card:{backgroundColor:"black",display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay2:{alignSelf:"flex-end",position:"absolute"},image:{margin:"0px auto",maxHeight:"40vh",maxWidth:"100vw"}});function D(e){var t=e.item,a=e.parent,n=I(),r=Object(j.b)(),c=JSON.parse(localStorage.getItem("profile"));return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(k.a,{className:n.card,component:"homepage"===a&&F.b,to:"/item/".concat(null===t||void 0===t?void 0:t._id),children:[Object(E.jsx)("div",{className:n.overlay2,children:c&&"Admin"===c.userType&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(S.a,{style:{color:"black"},component:F.b,to:"/populate/".concat(null===t||void 0===t?void 0:t._id),title:"Edit Post",children:Object(E.jsx)(N.a,{fontSize:"small"})}),Object(E.jsx)(S.a,{style:{color:"black"},onClick:function(){var e;window.confirm("Are you sure you wish to delete this item?")&&r((e=t._id,function(){var t=Object(h.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e);case 3:a({type:"DELETE_POST",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()))},children:Object(E.jsx)(B.a,{fontSize:"small"})})]})}),Object(E.jsx)("img",{className:n.image,src:null===t||void 0===t?void 0:t.image,alt:"Broken"}),Object(E.jsx)(T.a,{variant:"h6",style:{margin:"0 auto"},children:null===t||void 0===t?void 0:t.name}),Object(E.jsxs)(T.a,{variant:"h6",style:{fontWeight:"bold",margin:"0 auto"},children:["Rs.",null===t||void 0===t?void 0:t.price]}),"details"===a&&Object(E.jsx)(T.a,{variant:"h7",style:{margin:"0 auto 10px auto"},children:null===t||void 0===t?void 0:t.details})]})})}var _=a(11),A=a(4),U=a(5),L=a(364),z=a(382),R=a(381),H=a(383),q=a(29),J=a(374),M=a(174),K=a(167),G=a.n(K),V=a(121),Q=a.n(V),X=a(122),Y=a.n(X),Z=a(168),$=a.n(Z),ee=Object(U.a)("div")((function(e){var t=e.theme;return Object(A.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(L.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(L.a)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(3),width:"auto"})})),te=Object(U.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),ae=Object(U.a)(q.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(A.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"20ch"})}}));function ne(){var e=JSON.parse(localStorage.getItem("profile")),t=Object(i.g)(),a=Object(j.b)(),r=n.useState(null),c=Object(_.a)(r,2),o=c[0],s=c[1],l=n.useState(null),u=Object(_.a)(l,2),d=u[0],p=u[1],b=Boolean(o),m=Boolean(d),h=function(e){s(e.currentTarget)},f=function(){t.push("/populate")},x=function(){p(null)},O="primary-search-account-menu",g=Object(E.jsx)(M.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:O,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:function(){s(null),x()},children:e?Object(E.jsx)(J.a,{onClick:function(){a({type:"LOGOUT"}),t.push("/")},children:"Logout"}):Object(E.jsx)(J.a,{onClick:function(){t.push("/login")},children:"Login/Signup"})}),v="primary-search-account-menu-mobile",y=Object(E.jsxs)(M.a,{anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},id:v,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:x,children:[Object(E.jsxs)(J.a,{onClick:h,children:[Object(E.jsx)(S.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(E.jsx)(Q.a,{})}),e?Object(E.jsx)("p",{children:e.name}):Object(E.jsx)("p",{children:"Not logged in"})]}),e&&"Admin"===e.userType&&Object(E.jsxs)(J.a,{onClick:f,children:[Object(E.jsx)(S.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(E.jsx)(Y.a,{})}),Object(E.jsx)("p",{children:"Add Item"})]})]});return Object(E.jsxs)(R.a,{sx:{flexGrow:1},children:[Object(E.jsx)(z.a,{position:"static",children:Object(E.jsxs)(H.a,{children:[Object(E.jsx)(T.a,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:"ShopKart"}),Object(E.jsxs)(ee,{children:[Object(E.jsx)(te,{children:Object(E.jsx)(G.a,{})}),Object(E.jsx)(ae,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]}),Object(E.jsx)(R.a,{sx:{flexGrow:1}}),Object(E.jsxs)(R.a,{sx:{display:{xs:"none",md:"flex"}},children:[e&&"Admin"===e.userType&&Object(E.jsx)(S.a,{size:"large","aria-label":"Add Item",onClick:f,color:"inherit",children:Object(E.jsx)(Y.a,{})}),Object(E.jsx)(S.a,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":O,"aria-haspopup":"true",onClick:h,color:"inherit",children:Object(E.jsx)(Q.a,{})})]}),Object(E.jsx)(R.a,{sx:{display:{xs:"flex",md:"none"}},children:Object(E.jsx)(S.a,{size:"large","aria-label":"show more","aria-controls":v,"aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},color:"inherit",children:Object(E.jsx)($.a,{})})})]})}),y,g]})}var re=Object(p.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center",padding:40,marginTop:25}}}));function ce(){var e=re(),t=Object(j.b)();Object(n.useEffect)((function(){t(y())}),[]);var a=Object(j.c)((function(e){return e.items}));return console.log(a),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ne,{}),Object(E.jsx)(o.a,{in:!0,children:Object(E.jsx)(s.a,{maxWidth:"lg",style:{marginTop:"40px"},children:Object(E.jsx)(l.a,{style:{boxShadow:"10px"},children:a.length?Object(E.jsx)(d.a,{className:e.mainContainer,container:!0,alignItems:"stretch",spacing:3,children:a.map((function(e){return Object(E.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(E.jsx)(D,{item:e,parent:"homepage"})},e._id)}))}):Object(E.jsx)(s.a,{maxWidth:"sm",style:{display:"flex",justifyContent:"space-around",marginTop:100},children:Object(E.jsx)(u.a,{})})})})})]})}var ie=a(21),oe=a(371),se=a(386),le=a(387),ue=a(169),de=a.n(ue),pe=Object(p.a)((function(e){return{root:{"& .MuiTextField-root":{margin:"5%"}},appBar:{display:"flex",padding:10,flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"#0080ff"},heading:{color:"white"},paper:{padding:"5%"},form:{display:"flex",flexWrap:"wrap",padding:"5%",justifyContent:"center"},textField:{marginTop:6},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{fontWeight:"bold",marginTop:10,marginBottom:10,background:"#79CDCD",fontFamily:"Copperplate Papyrus"},buttonClear:{fontWeight:"bold",fontFamily:"Copperplate Papyrus",color:"#ffffff",marginTop:10,marginBottom:10,background:"grey"},buttonCancel:{fontWeight:"bold",fontFamily:"Copperplate Papyrus",color:"#ffffff",marginTop:10,marginBottom:10,background:"#ed1c24"}}}));function je(){var e=pe(),t=Object(i.h)().id,a=Object(j.b)(),r=Object(i.g)(),c=Object(n.useState)("https://img.icons8.com/pastel-glyph/64/000000/image-file-add.png"),u=Object(_.a)(c,2),d=u[0],p=u[1],b=Object(j.c)((function(e){return t?e.items.find((function(e){return e._id===t})):null})),f=Object(n.useState)({name:"",price:"",image:"",details:""}),x=Object(_.a)(f,2),O=x[0],g=x[1];Object(n.useEffect)((function(){b&&(g(b),p(null===b||void 0===b?void 0:b.image))}),[b]);var v=JSON.parse(localStorage.getItem("profile"));v&&"User"!==v.userType||r.push("/");var y=Object(n.useState)(!1),k=Object(_.a)(y,2),S=k[0],P=k[1],N=function(e){g((function(t){return Object(ie.a)(Object(ie.a)({},t),{},Object(A.a)({},e.target.name,e.target.value))}))},F=function(){var e=Object(h.a)(m.a.mark((function e(n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log(O),""!==O.name){e.next=6;break}alert("Please enter name of the product"),e.next=26;break;case 6:if(""!==O.price){e.next=10;break}alert("Please set a price for the product"),e.next=26;break;case 10:if(""!==O.image){e.next=14;break}alert("Please upload an image"),e.next=26;break;case 14:if(P(!0),!t){e.next=21;break}return e.next=18,a(C(t,O));case 18:c=e.sent,e.next=24;break;case 21:return e.next=23,a(w(O));case 23:c=e.sent;case 24:c?r.push("/"):alert("Upload Failed!"),P(!1);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(s.a,{maxWidth:"lg",style:{height:30},children:Object(E.jsx)(z.a,{className:e.appBar,position:"fixed",color:"inherit",children:Object(E.jsx)(T.a,{className:e.heading,variant:"h4",align:"center",children:"ShopKart"})})}),Object(E.jsx)(o.a,{in:!0,children:Object(E.jsx)(s.a,{maxWidth:"sm",style:{marginTop:60,marginBottom:60},children:Object(E.jsxs)(l.a,{className:e.paper,children:[Object(E.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(E.jsx)("img",{style:{maxHeight:"30vh",maxWidth:"50vw"},src:d,alt:"Oops!"})}),Object(E.jsxs)("form",{autoComplete:"off",noValidate:!0,className:e.form,children:[Object(E.jsx)(oe.a,{className:e.textField,name:"name",variant:"outlined",label:"Title",fullWidth:!0,value:O.name,onChange:N}),Object(E.jsx)(oe.a,{className:e.textField,name:"price",type:"number",variant:"outlined",label:"Price",fullWidth:!0,value:O.price,onChange:N}),Object(E.jsx)(oe.a,{className:e.textField,name:"details",variant:"outlined",multiline:!0,maxRows:4,label:"Details",fullWidth:!0,value:O.details,onChange:N}),Object(E.jsx)("div",{className:e.fileInput,children:Object(E.jsx)(de.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;p(t),g(Object(ie.a)(Object(ie.a)({},O),{},{image:t}))}})}),Object(E.jsx)(se.a,{className:e.buttonSubmit,variant:"contained",size:"large",type:"submit",fullWidth:!0,onClick:F,children:"Upload"}),Object(E.jsx)(se.a,{className:e.buttonClear,variant:"contained",size:"small",fullWidth:!0,onClick:function(){window.confirm("Are you sure you want to clear data?")&&(g({name:"",price:"",image:"",details:""}),p("https://img.icons8.com/pastel-glyph/64/000000/image-file-add.png"))},children:"clear"}),Object(E.jsx)(se.a,{className:e.buttonCancel,variant:"contained",size:"small",fullWidth:!0,onClick:function(){r.push("/feed")},children:"Cancel"})]}),S?Object(E.jsx)(le.a,{}):Object(E.jsx)(E.Fragment,{})]})})})]})}var be=a(368),me=a(388),he=a(389),fe=a(373),xe=a(390),Oe=a(43),ge=a(99),ve=a(44),ye=a(96),we=a.n(ye),Ce=a(97),ke=a.n(Ce),Se=x.a.create({baseURL:"https://shopkart-server.herokuapp.com/users"}),Te=function(e){return function(){var t=Object(h.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se.post("/signup",e);case 3:return n=t.sent,r=n.data,a({type:"AUTH",payload:Object(ie.a)(Object(ie.a)({},r._doc),{},{token:r.token})}),t.abrupt("return","Success");case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",t.t0.response.message);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Pe=function(e){return function(){var t=Object(h.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se.post("/login",e);case 3:return n=t.sent,r=n.data,a({type:"AUTH",payload:Object(ie.a)(Object(ie.a)({},r._doc),{},{token:r.token})}),t.abrupt("return","Success");case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",t.t0.response.message);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Ne=Object(p.a)((function(e){return{appBar:{display:"flex",padding:10,flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"#0080ff"},heading:{color:"white"},root:{"& .MuiTextField-root":{margin:"5%"}},paper:{padding:"5%",background:"white"},form:{display:"flex",flexDirection:"column",flexWrap:"wrap",justifyContent:"space-between"},textField:{marginBottom:20},buttonSubmit:{fontWeight:"bold",marginTop:10,marginBottom:10,background:"#79CDCD",fontFamily:"Copperplate Papyrus"},buttonCancel:{fontWeight:"bold",fontFamily:"Copperplate Papyrus",marginTop:10,marginBottom:10,background:"#ed1c24"},buttons:{marginTop:30,display:"flex",justifyContent:"space-around"}}})),Fe=ve.a().shape({email:ve.b().email("Invalid email format").required("Please enter your email"),password:ve.b().required("Please enter password")});function We(){var e=Ne(),t=Object(i.g)(),a=Object(j.b)(),r=Object(n.useState)(""),c=Object(_.a)(r,2),u=c[0],d=c[1],p=Object(n.useState)(!1),b=Object(_.a)(p,2),f=b[0],x=b[1],O=Object(n.useState)(!1),g=Object(_.a)(O,2),v=g[0],y=g[1],w=Object(n.useState)(!1),C=Object(_.a)(w,2),k=C[0],P=C[1],N=Object(n.useState)(!1),W=Object(_.a)(N,2),B=W[0],I=W[1],D=Object(Oe.d)({resolver:Object(ge.a)(Fe)}),A=D.register,U=D.handleSubmit,L=D.formState.errors,R=function(){var e=Object(h.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.userType=B?"Admin":"User",y(!0),e.prev=2,e.next=5,a(Pe(n));case 5:"Success"!==e.sent?(y(!1),d("Invalid login credentials"),x(!0),setTimeout((function(){x(!1)}),3e3)):t.push("/"),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),y(!1),d("Unable to login (internal server error)"),x(!0),setTimeout((function(){x(!1)}),3e3);case 16:y(!1);case 17:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(s.a,{maxWidth:"lg",style:{height:30},children:Object(E.jsx)(z.a,{className:e.appBar,position:"fixed",color:"inherit",children:Object(E.jsx)(T.a,{className:e.heading,variant:"h4",align:"center",children:"ShopKart"})})}),Object(E.jsx)(o.a,{in:!0,children:Object(E.jsxs)(s.a,{maxWidth:"sm",style:{marginTop:40,marginBottom:60},children:[Object(E.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:10,padding:20},children:Object(E.jsx)(be.a,{in:f,children:Object(E.jsx)(l.a,{style:{padding:10,background:"#ba160c"},children:Object(E.jsx)(T.a,{style:{color:"white"},variant:"h6",children:u})})})}),Object(E.jsxs)(l.a,{className:e.paper,children:[Object(E.jsxs)("form",{autoComplete:"off",className:e.form,noValidate:!0,children:[Object(E.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:40},children:Object(E.jsx)(T.a,{variant:"h4",children:"Login"})}),Object(E.jsxs)("div",{className:e.textField,children:[Object(E.jsx)(me.a,{children:Object(E.jsx)(he.a,{control:Object(E.jsx)(fe.a,{checked:B,onChange:function(){I((function(e){return!e}))}}),label:"Admin Login?"})}),Object(E.jsx)(oe.a,Object(ie.a)(Object(ie.a)({},A("email")),{},{name:"email",type:"text",variant:"outlined",autoComplete:"on",label:"Email",fullWidth:!0})),L.email?Object(E.jsx)("p",{style:{color:"#b22222",marginTop:-3},children:L.email.message}):Object(E.jsx)(E.Fragment,{})]}),Object(E.jsxs)("div",{className:e.textField,children:[Object(E.jsx)(oe.a,Object(ie.a)(Object(ie.a)({},A("password")),{},{name:"password",type:k?"text":"password",variant:"outlined",label:"Password",fullWidth:!0,InputProps:{endAdornment:Object(E.jsx)(xe.a,{position:"end",children:Object(E.jsx)(S.a,{onClick:function(){P((function(e){return!e}))},children:k?Object(E.jsx)(we.a,{}):Object(E.jsx)(ke.a,{})})})}})),L.password?Object(E.jsx)("p",{style:{color:"#b22222",marginTop:-3},children:L.password.message}):Object(E.jsx)(E.Fragment,{})]}),Object(E.jsx)("div",{className:e.buttons,children:Object(E.jsx)(se.a,{className:e.buttonSubmit,onClick:U(R),children:"Submit"})})]}),Object(E.jsx)("div",{className:e.buttons,children:Object(E.jsx)(T.a,{component:F.b,to:"/signup",style:{textDecoration:"none",marginTop:10},variant:"body2",children:"New User ? Click here to register"})}),v&&Object(E.jsx)(le.a,{})]})]})})]})}var Be=[{name:"name",label:"Name",type:"text"},{name:"email",label:"email",type:"text"},{name:"password",label:"Password",type:"password"},{name:"confPass",label:"Confirm Password",type:"password"}],Ee=Object(p.a)((function(e){return{root:{"& .MuiTextField-root":{margin:"5%"}},appBar:{display:"flex",padding:10,flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"#0080ff"},heading:{color:"white"},paper:{padding:"5%",background:"white"},form:{display:"flex",flexDirection:"column",flexWrap:"wrap",justifyContent:"space-between"},textField:{marginBottom:8},buttonSubmit:{fontWeight:"bold",marginTop:10,marginBottom:10,background:"#79CDCD",fontFamily:"Copperplate Papyrus"},buttonCancel:{fontWeight:"bold",fontFamily:"Copperplate Papyrus",marginTop:10,marginBottom:10,background:"#ed1c24",color:"white"},buttons:{display:"flex",justifyContent:"space-around"}}})),Ie=ve.a().shape({name:ve.b().required("Please enter your name"),email:ve.b().email("Invalid email format").required("Please enter your email"),password:ve.b().required("Please create a password ").min(8,"Password should be atleast 8 digits long"),confPass:ve.b().required("Please confirm password ").min(8,"Password should be atleast 8 digits long")});function De(){var e=Ee(),t=Object(i.g)(),a=Object(j.b)(),r=Object(n.useState)(""),c=Object(_.a)(r,2),u=c[0],d=c[1],p=Object(n.useState)(!1),b=Object(_.a)(p,2),f=b[0],x=b[1],O=Object(n.useState)(!1),g=Object(_.a)(O,2),v=g[0],y=g[1],w=Object(n.useState)(!1),C=Object(_.a)(w,2),k=C[0],P=C[1],N=Object(Oe.d)({resolver:Object(ge.a)(Ie)}),F=N.register,W=N.handleSubmit,B=N.formState.errors,I=function(){var e=Object(h.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.password===n.confPass){e.next=3;break}return window.alert("Passwords do not match"),e.abrupt("return");case 3:return n.userType="User",console.log(n),y(!0),e.prev=6,e.next=9,a(Te(n));case 9:"Success"!==e.sent?(y(!1),d("Email is taken, try another"),x(!0),setTimeout((function(){x(!1)}),3e3)):t.push("/"),e.next=20;break;case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0),y(!1),d("Unable to register (Internal server error)"),x(!0),setTimeout((function(){x(!1)}),3e3);case 20:y(!1);case 21:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(s.a,{maxWidth:"lg",style:{height:30},children:Object(E.jsx)(z.a,{className:e.appBar,position:"fixed",color:"inherit",children:Object(E.jsx)(T.a,{className:e.heading,variant:"h4",align:"center",children:"ShopKart"})})}),Object(E.jsx)(o.a,{in:!0,children:Object(E.jsxs)(s.a,{maxWidth:"sm",style:{marginTop:20,marginBottom:60},children:[Object(E.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:10,padding:20},children:Object(E.jsx)(be.a,{in:f,children:Object(E.jsx)(l.a,{style:{padding:10,background:"#ba160c"},children:Object(E.jsx)(T.a,{style:{color:"white"},variant:"h6",children:u})})})}),Object(E.jsx)(l.a,{className:e.paper,children:Object(E.jsxs)("form",{autoComplete:"off",className:e.form,noValidate:!0,children:[Object(E.jsx)(T.a,{style:{textAlign:"center",marginBottom:20},variant:"h4",children:"Create an account"}),Be.map((function(t){return Object(E.jsxs)("div",{className:e.textField,children:[Object(E.jsx)(oe.a,Object(ie.a)(Object(ie.a)({},F(t.name)),{},{name:t.name,type:"password"===t.name?k?"text":"password":t.type,variant:"outlined",label:t.label,fullWidth:!0,InputProps:{endAdornment:"password"===t.name?Object(E.jsx)(xe.a,{position:"end",children:Object(E.jsx)(S.a,{onClick:function(){P((function(e){return!e}))},children:k?Object(E.jsx)(we.a,{}):Object(E.jsx)(ke.a,{})})}):Object(E.jsx)(E.Fragment,{})}})),B[t.name]?Object(E.jsx)("p",{style:{color:"#b22222",marginTop:-3},children:B[t.name].message}):Object(E.jsx)(E.Fragment,{})]},t.name)})),Object(E.jsxs)("div",{className:e.buttons,children:[Object(E.jsx)(se.a,{className:e.buttonSubmit,onClick:W(I),children:"Submit"}),Object(E.jsx)(se.a,{onClick:function(){t.push("/")},className:e.buttonCancel,children:"Cancel"})]}),v&&Object(E.jsx)(le.a,{})]})})]})})]})}var _e=Object(p.a)((function(e){return{appBar:{display:"flex",padding:10,flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"#0080ff"},heading:{color:"white"}}}));function Ae(){var e=_e(),t=Object(i.h)().id,a=Object(j.b)();Object(n.useEffect)((function(){a(y())}),[]);var r=Object(j.c)((function(e){return t?e.items.find((function(e){return e._id===t})):null}));return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(s.a,{maxWidth:"lg",style:{height:30},children:Object(E.jsx)(z.a,{className:e.appBar,position:"fixed",color:"inherit",children:Object(E.jsx)(T.a,{className:e.heading,variant:"h4",align:"center",children:"ShopKart"})})}),Object(E.jsx)(o.a,{in:!0,children:Object(E.jsx)(s.a,{maxWidth:"lg",style:{marginTop:40},children:Object(E.jsx)(D,{item:r,parent:"details"})})})]})}var Ue=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(i.d,{children:[Object(E.jsx)(i.b,{exact:!0,path:"/",component:ce}),Object(E.jsx)(i.b,{exact:!0,path:"/populate",component:je}),Object(E.jsx)(i.b,{exact:!0,path:"/populate/:id",component:je}),Object(E.jsx)(i.b,{exact:!0,path:"/item/:id",component:Ae}),Object(E.jsx)(i.b,{exact:!0,path:"/login",component:We}),Object(E.jsx)(i.b,{exact:!0,path:"/signup",component:De}),Object(E.jsx)(i.a,{to:"/"})]})})},Le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,392)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))},ze=a(79),Re=a(173),He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return localStorage.setItem("profile",JSON.stringify(Object(ie.a)({},null===t||void 0===t?void 0:t.payload))),e;case"FETCH_USERS":return t.payload;case"UPDATE_USER":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"LOGOUT":return localStorage.clear(),[];default:return e}},qe=a(14),Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS":return t.payload;case"CREATE_POST":return[].concat(Object(qe.a)(e),[t.payload]);case"UPDATE_POST":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"DELETE_POST":return e.filter((function(e){return e._id!==t.payload}));default:return e}},Me=Object(ze.b)({users:He,items:Je}),Ke=Object(ze.c)(Me,Object(ze.a)(Re.a));c.a.render(Object(E.jsx)(F.a,{children:Object(E.jsx)(j.a,{store:Ke,children:Object(E.jsx)(Ue,{})})}),document.getElementById("root")),Le()}},[[316,1,2]]]);
//# sourceMappingURL=main.c1d7d880.chunk.js.map